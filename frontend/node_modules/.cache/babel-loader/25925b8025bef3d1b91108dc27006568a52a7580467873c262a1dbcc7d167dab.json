{"ast":null,"code":"import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{PlusIcon,MapPinIcon,ArrowUpIcon,ArrowDownIcon}from'@heroicons/react/24/outline';import{toast}from'react-toastify';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InventoryPage=()=>{var _products$find,_products$find2;const[isModalOpen,setIsModalOpen]=useState(false);const[isAdjustmentModalOpen,setIsAdjustmentModalOpen]=useState(false);const[isMovementModalOpen,setIsMovementModalOpen]=useState(false);const[editingInventory,setEditingInventory]=useState(null);const[selectedInventory,setSelectedInventory]=useState(null);const[selectedLocation,setSelectedLocation]=useState('');const[adjustmentQuantity,setAdjustmentQuantity]=useState(0);const[adjustmentNotes,setAdjustmentNotes]=useState('');const[movementData,setMovementData]=useState({quantity:0,movementType:'in',notes:'',fromLocationId:'',toLocationId:''});const queryClient=useQueryClient();const{data:inventoryData,isLoading,error}=useQuery(['inventory',selectedLocation],()=>apiService.inventory.getInventory({location_id:selectedLocation?parseInt(selectedLocation):undefined}));const{data:productsData}=useQuery(['products'],()=>apiService.products.getProducts({is_active:true}));const{data:locationsData}=useQuery(['locations'],()=>apiService.locations.getLocations({is_active:true}));const createMutation=useMutation(data=>apiService.inventory.createInventoryItem(data),{onSuccess:()=>{queryClient.invalidateQueries('inventory');setIsModalOpen(false);toast.success('Inventory item created successfully!');},onError:error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to create inventory item');}});const updateMutation=useMutation(_ref=>{let{id,data}=_ref;return apiService.inventory.updateInventoryItem(id,data);},{onSuccess:()=>{queryClient.invalidateQueries('inventory');setIsModalOpen(false);setEditingInventory(null);toast.success('Inventory item updated successfully!');},onError:error=>{var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to update inventory item');}});const deleteMutation=useMutation(id=>apiService.inventory.deleteInventoryItem(id),{onSuccess:()=>{queryClient.invalidateQueries('inventory');toast.success('Inventory item deleted successfully!');},onError:error=>{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'Failed to delete inventory item');}});const adjustStockMutation=useMutation(_ref2=>{let{inventoryId,quantityChange,notes}=_ref2;return apiService.inventory.adjustStock(inventoryId,quantityChange,notes);},{onSuccess:()=>{queryClient.invalidateQueries('inventory');setIsAdjustmentModalOpen(false);setSelectedInventory(null);setAdjustmentQuantity(0);setAdjustmentNotes('');toast.success('Stock adjusted successfully!');},onError:error=>{var _error$response4,_error$response4$data;toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'Failed to adjust stock');}});const createMovementMutation=useMutation(_ref3=>{let{inventoryId,movementData}=_ref3;return apiService.inventory.createStockMovement(inventoryId,movementData);},{onSuccess:()=>{queryClient.invalidateQueries('inventory');setIsMovementModalOpen(false);setSelectedInventory(null);setMovementData({quantity:0,movementType:'in',notes:'',fromLocationId:'',toLocationId:''});toast.success('Stock movement recorded successfully!');},onError:error=>{var _error$response5,_error$response5$data;toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||'Failed to record stock movement');}});const handleSubmit=formData=>{if(editingInventory){updateMutation.mutate({id:editingInventory.id,data:formData});}else{createMutation.mutate(formData);}};const handleEdit=inventory=>{setEditingInventory(inventory);setIsModalOpen(true);};const handleDelete=id=>{if(window.confirm('Are you sure you want to delete this inventory item?')){deleteMutation.mutate(id);}};const handleAdjustStock=inventory=>{setSelectedInventory(inventory);setIsAdjustmentModalOpen(true);};const handleMovement=inventory=>{setSelectedInventory(inventory);setIsMovementModalOpen(true);};const handleAdjustmentSubmit=e=>{e.preventDefault();if(!selectedInventory||adjustmentQuantity===0){toast.error('Please enter a valid quantity');return;}adjustStockMutation.mutate({inventoryId:selectedInventory.id,quantityChange:adjustmentQuantity,notes:adjustmentNotes});};const handleMovementSubmit=e=>{e.preventDefault();if(!selectedInventory||movementData.quantity<=0){toast.error('Please enter a valid quantity');return;}const movementPayload={movement_type:movementData.movementType,quantity:movementData.quantity,notes:movementData.notes,from_location_id:movementData.fromLocationId?parseInt(movementData.fromLocationId):undefined,to_location_id:movementData.toLocationId?parseInt(movementData.toLocationId):undefined};createMovementMutation.mutate({inventoryId:selectedInventory.id,movementData:movementPayload});};const getStockStatus=(quantity,minLevel)=>{if(quantity===0)return{status:'Out of Stock',color:'text-red-600'};if(quantity<=minLevel)return{status:'Low Stock',color:'text-yellow-600'};return{status:'In Stock',color:'text-green-600'};};if(isLoading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-red-600\",children:\"Error loading inventory\"});const inventory=(inventoryData===null||inventoryData===void 0?void 0:inventoryData.data)||[];const products=(productsData===null||productsData===void 0?void 0:productsData.data)||[];const locations=(locationsData===null||locationsData===void 0?void 0:locationsData.data)||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Inventory\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsModalOpen(true),className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"Add Inventory Item\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedLocation,onChange:e=>setSelectedLocation(e.target.value),className:\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Locations\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.name},location.id))]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-md\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Available\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Unit Cost\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:inventory.map(item=>{const product=products.find(p=>p.id===item.product_id);const location=locations.find(l=>l.id===item.location_id);const stockStatus=getStockStatus(item.quantity,(product===null||product===void 0?void 0:product.min_stock_level)||0);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:(product===null||product===void 0?void 0:product.name)||'Unknown Product'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(product===null||product===void 0?void 0:product.sku)||'No SKU'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPinIcon,{className:\"h-4 w-4 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:(location===null||location===void 0?void 0:location.name)||'Unknown Location'})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:item.quantity}),item.reserved_quantity>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Reserved: \",item.reserved_quantity]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:item.available_quantity})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${stockStatus.color}`,children:stockStatus.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:item.unit_cost?`$${item.unit_cost.toFixed(2)}`:'N/A'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAdjustStock(item),className:\"text-blue-600 hover:text-blue-900\",title:\"Adjust Stock\",children:/*#__PURE__*/_jsx(ArrowUpIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMovement(item),className:\"text-green-600 hover:text-green-900\",title:\"Record Movement\",children:/*#__PURE__*/_jsx(ArrowDownIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(item),className:\"text-indigo-600 hover:text-indigo-900\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(item.id),className:\"text-red-600 hover:text-red-900\",children:\"Delete\"})]})})]},item.id);})})]})}),isModalOpen&&/*#__PURE__*/_jsx(InventoryModal,{inventory:editingInventory,products:products,locations:locations,onSubmit:handleSubmit,onClose:()=>{setIsModalOpen(false);setEditingInventory(null);},isLoading:createMutation.isLoading||updateMutation.isLoading}),isAdjustmentModalOpen&&selectedInventory&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Adjust Stock\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:[\"Adjusting stock for: \",(_products$find=products.find(p=>p.id===selectedInventory.product_id))===null||_products$find===void 0?void 0:_products$find.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdjustmentSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity Change *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:adjustmentQuantity,onChange:e=>setAdjustmentQuantity(parseInt(e.target.value)||0),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter quantity (positive to add, negative to subtract)\",required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Current quantity: \",selectedInventory.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:adjustmentNotes,onChange:e=>setAdjustmentNotes(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Reason for adjustment\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsAdjustmentModalOpen(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:adjustStockMutation.isLoading,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50\",children:adjustStockMutation.isLoading?'Adjusting...':'Adjust Stock'})]})]})]})})}),isMovementModalOpen&&selectedInventory&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Record Stock Movement\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:[\"Recording movement for: \",(_products$find2=products.find(p=>p.id===selectedInventory.product_id))===null||_products$find2===void 0?void 0:_products$find2.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleMovementSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Movement Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:movementData.movementType,onChange:e=>setMovementData({...movementData,movementType:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"in\",children:\"Stock In\"}),/*#__PURE__*/_jsx(\"option\",{value:\"out\",children:\"Stock Out\"}),/*#__PURE__*/_jsx(\"option\",{value:\"transfer\",children:\"Transfer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:movementData.quantity,onChange:e=>setMovementData({...movementData,quantity:parseInt(e.target.value)||0}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter quantity\",required:true})]}),movementData.movementType==='transfer'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"From Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:movementData.fromLocationId,onChange:e=>setMovementData({...movementData,fromLocationId:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select location\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.name},location.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"To Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:movementData.toLocationId,onChange:e=>setMovementData({...movementData,toLocationId:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select location\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.name},location.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:movementData.notes,onChange:e=>setMovementData({...movementData,notes:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Movement details\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsMovementModalOpen(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:createMovementMutation.isLoading,className:\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50\",children:createMovementMutation.isLoading?'Recording...':'Record Movement'})]})]})]})})})]});};// Inventory Modal Component\nconst InventoryModal=_ref4=>{let{inventory,products,locations,onSubmit,onClose,isLoading}=_ref4;const[formData,setFormData]=useState({product_id:(inventory===null||inventory===void 0?void 0:inventory.product_id)||0,location_id:(inventory===null||inventory===void 0?void 0:inventory.location_id)||0,quantity:(inventory===null||inventory===void 0?void 0:inventory.quantity)||0,reserved_quantity:(inventory===null||inventory===void 0?void 0:inventory.reserved_quantity)||0,unit_cost:(inventory===null||inventory===void 0?void 0:inventory.unit_cost)||0,notes:(inventory===null||inventory===void 0?void 0:inventory.notes)||''});const handleSubmit=e=>{e.preventDefault();onSubmit(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:inventory?'Edit Inventory Item':'Add Inventory Item'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:formData.product_id,onChange:e=>setFormData({...formData,product_id:parseInt(e.target.value)}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select product\"}),products.map(product=>/*#__PURE__*/_jsxs(\"option\",{value:product.id,children:[product.name,\" (\",product.sku,\")\"]},product.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:formData.location_id,onChange:e=>setFormData({...formData,location_id:parseInt(e.target.value)}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select location\"}),locations.map(location=>/*#__PURE__*/_jsx(\"option\",{value:location.id,children:location.name},location.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,value:formData.quantity,onChange:e=>setFormData({...formData,quantity:parseInt(e.target.value)}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Reserved Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.reserved_quantity,onChange:e=>setFormData({...formData,reserved_quantity:parseInt(e.target.value)}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Unit Cost\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:formData.unit_cost,onChange:e=>setFormData({...formData,unit_cost:parseFloat(e.target.value)}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData({...formData,notes:e.target.value}),rows:3,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50\",children:isLoading?'Saving...':inventory?'Update':'Create'})]})]})]})})});};export default InventoryPage;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","PlusIcon","MapPinIcon","ArrowUpIcon","ArrowDownIcon","toast","apiService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InventoryPage","_products$find","_products$find2","isModalOpen","setIsModalOpen","isAdjustmentModalOpen","setIsAdjustmentModalOpen","isMovementModalOpen","setIsMovementModalOpen","editingInventory","setEditingInventory","selectedInventory","setSelectedInventory","selectedLocation","setSelectedLocation","adjustmentQuantity","setAdjustmentQuantity","adjustmentNotes","setAdjustmentNotes","movementData","setMovementData","quantity","movementType","notes","fromLocationId","toLocationId","queryClient","data","inventoryData","isLoading","error","inventory","getInventory","location_id","parseInt","undefined","productsData","products","getProducts","is_active","locationsData","locations","getLocations","createMutation","createInventoryItem","onSuccess","invalidateQueries","success","onError","_error$response","_error$response$data","response","detail","updateMutation","_ref","id","updateInventoryItem","_error$response2","_error$response2$data","deleteMutation","deleteInventoryItem","_error$response3","_error$response3$data","adjustStockMutation","_ref2","inventoryId","quantityChange","adjustStock","_error$response4","_error$response4$data","createMovementMutation","_ref3","createStockMovement","_error$response5","_error$response5$data","handleSubmit","formData","mutate","handleEdit","handleDelete","window","confirm","handleAdjustStock","handleMovement","handleAdjustmentSubmit","e","preventDefault","handleMovementSubmit","movementPayload","movement_type","from_location_id","to_location_id","getStockStatus","minLevel","status","color","className","children","onClick","value","onChange","target","map","location","name","item","product","find","p","product_id","l","stockStatus","min_stock_level","sku","reserved_quantity","available_quantity","unit_cost","toFixed","title","InventoryModal","onSubmit","onClose","type","placeholder","required","rows","disabled","_ref4","setFormData","step","parseFloat"],"sources":["/home/ubuntu/vicky/I2I projects/Inventory management/frontend/src/pages/Inventory.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { PlusIcon, PencilIcon, TrashIcon, MapPinIcon, ArrowUpIcon, ArrowDownIcon } from '@heroicons/react/24/outline';\nimport { toast } from 'react-toastify';\nimport apiService from '../services/api';\nimport { Inventory as InventoryType, InventoryCreate, InventoryUpdate, Product, Location } from '../types';\n\nconst InventoryPage: React.FC = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isAdjustmentModalOpen, setIsAdjustmentModalOpen] = useState(false);\n  const [isMovementModalOpen, setIsMovementModalOpen] = useState(false);\n  const [editingInventory, setEditingInventory] = useState<InventoryType | null>(null);\n  const [selectedInventory, setSelectedInventory] = useState<InventoryType | null>(null);\n  const [selectedLocation, setSelectedLocation] = useState<string>('');\n  const [adjustmentQuantity, setAdjustmentQuantity] = useState<number>(0);\n  const [adjustmentNotes, setAdjustmentNotes] = useState<string>('');\n  const [movementData, setMovementData] = useState({\n    quantity: 0,\n    movementType: 'in',\n    notes: '',\n    fromLocationId: '',\n    toLocationId: ''\n  });\n  const queryClient = useQueryClient();\n\n  const { data: inventoryData, isLoading, error } = useQuery(\n    ['inventory', selectedLocation],\n    () => apiService.inventory.getInventory({ \n      location_id: selectedLocation ? parseInt(selectedLocation) : undefined\n    })\n  );\n\n  const { data: productsData } = useQuery(\n    ['products'],\n    () => apiService.products.getProducts({ is_active: true })\n  );\n\n  const { data: locationsData } = useQuery(\n    ['locations'],\n    () => apiService.locations.getLocations({ is_active: true })\n  );\n\n  const createMutation = useMutation(\n    (data: InventoryCreate) => apiService.inventory.createInventoryItem(data),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('inventory');\n        setIsModalOpen(false);\n        toast.success('Inventory item created successfully!');\n      },\n      onError: (error: any) => {\n        toast.error(error.response?.data?.detail || 'Failed to create inventory item');\n      }\n    }\n  );\n\n  const updateMutation = useMutation(\n    ({ id, data }: { id: number; data: InventoryUpdate }) =>\n      apiService.inventory.updateInventoryItem(id, data),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('inventory');\n        setIsModalOpen(false);\n        setEditingInventory(null);\n        toast.success('Inventory item updated successfully!');\n      },\n      onError: (error: any) => {\n        toast.error(error.response?.data?.detail || 'Failed to update inventory item');\n      }\n    }\n  );\n\n  const deleteMutation = useMutation(\n    (id: number) => apiService.inventory.deleteInventoryItem(id),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('inventory');\n        toast.success('Inventory item deleted successfully!');\n      },\n      onError: (error: any) => {\n        toast.error(error.response?.data?.detail || 'Failed to delete inventory item');\n      }\n    }\n  );\n\n  const adjustStockMutation = useMutation(\n    ({ inventoryId, quantityChange, notes }: { inventoryId: number; quantityChange: number; notes?: string }) =>\n      apiService.inventory.adjustStock(inventoryId, quantityChange, notes),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('inventory');\n        setIsAdjustmentModalOpen(false);\n        setSelectedInventory(null);\n        setAdjustmentQuantity(0);\n        setAdjustmentNotes('');\n        toast.success('Stock adjusted successfully!');\n      },\n      onError: (error: any) => {\n        toast.error(error.response?.data?.detail || 'Failed to adjust stock');\n      }\n    }\n  );\n\n  const createMovementMutation = useMutation(\n    ({ inventoryId, movementData }: { inventoryId: number; movementData: any }) =>\n      apiService.inventory.createStockMovement(inventoryId, movementData),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries('inventory');\n        setIsMovementModalOpen(false);\n        setSelectedInventory(null);\n        setMovementData({\n          quantity: 0,\n          movementType: 'in',\n          notes: '',\n          fromLocationId: '',\n          toLocationId: ''\n        });\n        toast.success('Stock movement recorded successfully!');\n      },\n      onError: (error: any) => {\n        toast.error(error.response?.data?.detail || 'Failed to record stock movement');\n      }\n    }\n  );\n\n  const handleSubmit = (formData: InventoryCreate) => {\n    if (editingInventory) {\n      updateMutation.mutate({ id: editingInventory.id, data: formData });\n    } else {\n      createMutation.mutate(formData);\n    }\n  };\n\n  const handleEdit = (inventory: InventoryType) => {\n    setEditingInventory(inventory);\n    setIsModalOpen(true);\n  };\n\n  const handleDelete = (id: number) => {\n    if (window.confirm('Are you sure you want to delete this inventory item?')) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const handleAdjustStock = (inventory: InventoryType) => {\n    setSelectedInventory(inventory);\n    setIsAdjustmentModalOpen(true);\n  };\n\n  const handleMovement = (inventory: InventoryType) => {\n    setSelectedInventory(inventory);\n    setIsMovementModalOpen(true);\n  };\n\n  const handleAdjustmentSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedInventory || adjustmentQuantity === 0) {\n      toast.error('Please enter a valid quantity');\n      return;\n    }\n    \n    adjustStockMutation.mutate({\n      inventoryId: selectedInventory.id,\n      quantityChange: adjustmentQuantity,\n      notes: adjustmentNotes\n    });\n  };\n\n  const handleMovementSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedInventory || movementData.quantity <= 0) {\n      toast.error('Please enter a valid quantity');\n      return;\n    }\n\n    const movementPayload = {\n      movement_type: movementData.movementType,\n      quantity: movementData.quantity,\n      notes: movementData.notes,\n      from_location_id: movementData.fromLocationId ? parseInt(movementData.fromLocationId) : undefined,\n      to_location_id: movementData.toLocationId ? parseInt(movementData.toLocationId) : undefined\n    };\n\n    createMovementMutation.mutate({\n      inventoryId: selectedInventory.id,\n      movementData: movementPayload\n    });\n  };\n\n  const getStockStatus = (quantity: number, minLevel: number) => {\n    if (quantity === 0) return { status: 'Out of Stock', color: 'text-red-600' };\n    if (quantity <= minLevel) return { status: 'Low Stock', color: 'text-yellow-600' };\n    return { status: 'In Stock', color: 'text-green-600' };\n  };\n\n  if (isLoading) return <div className=\"text-center py-8\">Loading...</div>;\n  if (error) return <div className=\"text-center py-8 text-red-600\">Error loading inventory</div>;\n\n  const inventory = inventoryData?.data || [];\n  const products = productsData?.data || [];\n  const locations = locationsData?.data || [];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Inventory</h1>\n        <button\n          onClick={() => setIsModalOpen(true)}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center\"\n        >\n          <PlusIcon className=\"h-5 w-5 mr-2\" />\n          Add Inventory Item\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white p-4 rounded-lg shadow\">\n        <div className=\"flex gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Location</label>\n            <select\n              value={selectedLocation}\n              onChange={(e) => setSelectedLocation(e.target.value)}\n              className=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Locations</option>\n              {locations.map((location) => (\n                <option key={location.id} value={location.id}>\n                  {location.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Inventory Table */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Product\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Location\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Quantity\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Available\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Unit Cost\n              </th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {inventory.map((item) => {\n              const product = products.find(p => p.id === item.product_id);\n              const location = locations.find(l => l.id === item.location_id);\n              const stockStatus = getStockStatus(item.quantity, product?.min_stock_level || 0);\n              \n              return (\n                <tr key={item.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm font-medium text-gray-900\">{product?.name || 'Unknown Product'}</div>\n                    <div className=\"text-sm text-gray-500\">{product?.sku || 'No SKU'}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <MapPinIcon className=\"h-4 w-4 text-gray-400 mr-2\" />\n                      <span className=\"text-sm text-gray-900\">{location?.name || 'Unknown Location'}</span>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">{item.quantity}</div>\n                    {item.reserved_quantity > 0 && (\n                      <div className=\"text-xs text-gray-500\">Reserved: {item.reserved_quantity}</div>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">{item.available_quantity}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`text-sm font-medium ${stockStatus.color}`}>\n                      {stockStatus.status}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">\n                      {item.unit_cost ? `$${item.unit_cost.toFixed(2)}` : 'N/A'}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <div className=\"flex justify-end space-x-2\">\n                      <button\n                        onClick={() => handleAdjustStock(item)}\n                        className=\"text-blue-600 hover:text-blue-900\"\n                        title=\"Adjust Stock\"\n                      >\n                        <ArrowUpIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleMovement(item)}\n                        className=\"text-green-600 hover:text-green-900\"\n                        title=\"Record Movement\"\n                      >\n                        <ArrowDownIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleEdit(item)}\n                        className=\"text-indigo-600 hover:text-indigo-900\"\n                      >\n                        Edit\n                      </button>\n                      <button\n                        onClick={() => handleDelete(item.id)}\n                        className=\"text-red-600 hover:text-red-900\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Inventory Modal */}\n      {isModalOpen && (\n        <InventoryModal\n          inventory={editingInventory}\n          products={products}\n          locations={locations}\n          onSubmit={handleSubmit}\n          onClose={() => {\n            setIsModalOpen(false);\n            setEditingInventory(null);\n          }}\n          isLoading={createMutation.isLoading || updateMutation.isLoading}\n        />\n      )}\n\n      {/* Stock Adjustment Modal */}\n      {isAdjustmentModalOpen && selectedInventory && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Adjust Stock</h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                Adjusting stock for: {products.find(p => p.id === selectedInventory.product_id)?.name}\n              </p>\n              <form onSubmit={handleAdjustmentSubmit}>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Quantity Change *\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={adjustmentQuantity}\n                    onChange={(e) => setAdjustmentQuantity(parseInt(e.target.value) || 0)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Enter quantity (positive to add, negative to subtract)\"\n                    required\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Current quantity: {selectedInventory.quantity}\n                  </p>\n                </div>\n                <div className=\"mb-6\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Notes\n                  </label>\n                  <textarea\n                    value={adjustmentNotes}\n                    onChange={(e) => setAdjustmentNotes(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Reason for adjustment\"\n                    rows={3}\n                  />\n                </div>\n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsAdjustmentModalOpen(false)}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={adjustStockMutation.isLoading}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50\"\n                  >\n                    {adjustStockMutation.isLoading ? 'Adjusting...' : 'Adjust Stock'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stock Movement Modal */}\n      {isMovementModalOpen && selectedInventory && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Record Stock Movement</h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                Recording movement for: {products.find(p => p.id === selectedInventory.product_id)?.name}\n              </p>\n              <form onSubmit={handleMovementSubmit}>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Movement Type *\n                  </label>\n                  <select\n                    value={movementData.movementType}\n                    onChange={(e) => setMovementData({ ...movementData, movementType: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"in\">Stock In</option>\n                    <option value=\"out\">Stock Out</option>\n                    <option value=\"transfer\">Transfer</option>\n                  </select>\n                </div>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Quantity *\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={movementData.quantity}\n                    onChange={(e) => setMovementData({ ...movementData, quantity: parseInt(e.target.value) || 0 })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Enter quantity\"\n                    required\n                  />\n                </div>\n                {movementData.movementType === 'transfer' && (\n                  <>\n                    <div className=\"mb-4\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        From Location\n                      </label>\n                      <select\n                        value={movementData.fromLocationId}\n                        onChange={(e) => setMovementData({ ...movementData, fromLocationId: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"\">Select location</option>\n                        {locations.map((location) => (\n                          <option key={location.id} value={location.id}>\n                            {location.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"mb-4\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        To Location\n                      </label>\n                      <select\n                        value={movementData.toLocationId}\n                        onChange={(e) => setMovementData({ ...movementData, toLocationId: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"\">Select location</option>\n                        {locations.map((location) => (\n                          <option key={location.id} value={location.id}>\n                            {location.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </>\n                )}\n                <div className=\"mb-6\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Notes\n                  </label>\n                  <textarea\n                    value={movementData.notes}\n                    onChange={(e) => setMovementData({ ...movementData, notes: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Movement details\"\n                    rows={3}\n                  />\n                </div>\n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsMovementModalOpen(false)}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={createMovementMutation.isLoading}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50\"\n                  >\n                    {createMovementMutation.isLoading ? 'Recording...' : 'Record Movement'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Inventory Modal Component\ninterface InventoryModalProps {\n  inventory: InventoryType | null;\n  products: Product[];\n  locations: Location[];\n  onSubmit: (data: InventoryCreate) => void;\n  onClose: () => void;\n  isLoading: boolean;\n}\n\nconst InventoryModal: React.FC<InventoryModalProps> = ({ \n  inventory, \n  products, \n  locations, \n  onSubmit, \n  onClose, \n  isLoading \n}) => {\n  const [formData, setFormData] = useState<InventoryCreate>({\n    product_id: inventory?.product_id || 0,\n    location_id: inventory?.location_id || 0,\n    quantity: inventory?.quantity || 0,\n    reserved_quantity: inventory?.reserved_quantity || 0,\n    unit_cost: inventory?.unit_cost || 0,\n    notes: inventory?.notes || '',\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            {inventory ? 'Edit Inventory Item' : 'Add Inventory Item'}\n          </h3>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Product</label>\n              <select\n                required\n                value={formData.product_id}\n                onChange={(e) => setFormData({ ...formData, product_id: parseInt(e.target.value) })}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select product</option>\n                {products.map((product) => (\n                  <option key={product.id} value={product.id}>\n                    {product.name} ({product.sku})\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Location</label>\n              <select\n                required\n                value={formData.location_id}\n                onChange={(e) => setFormData({ ...formData, location_id: parseInt(e.target.value) })}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select location</option>\n                {locations.map((location) => (\n                  <option key={location.id} value={location.id}>\n                    {location.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Quantity</label>\n                <input\n                  type=\"number\"\n                  required\n                  value={formData.quantity}\n                  onChange={(e) => setFormData({ ...formData, quantity: parseInt(e.target.value) })}\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Reserved Quantity</label>\n                <input\n                  type=\"number\"\n                  value={formData.reserved_quantity}\n                  onChange={(e) => setFormData({ ...formData, reserved_quantity: parseInt(e.target.value) })}\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Unit Cost</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={formData.unit_cost}\n                onChange={(e) => setFormData({ ...formData, unit_cost: parseFloat(e.target.value) })}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Notes</label>\n              <textarea\n                value={formData.notes}\n                onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                rows={3}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {isLoading ? 'Saving...' : inventory ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InventoryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}